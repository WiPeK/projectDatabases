DROP TABLE provides_items CASCADE CONSTRAINTS;
DROP TABLE provides CASCADE CONSTRAINTS;
DROP TABLE sales_items CASCADE CONSTRAINTS;
DROP TABLE sales CASCADE CONSTRAINTS;
DROP TABLE items_features CASCADE CONSTRAINTS;
DROP TABLE items CASCADE CONSTRAINTS;
DROP TABLE features CASCADE CONSTRAINTS;
DROP TABLE producers CASCADE CONSTRAINTS;
DROP TABLE providers CASCADE CONSTRAINTS;
DROP TABLE clients CASCADE CONSTRAINTS;
DROP TABLE employees CASCADE CONSTRAINTS;
DROP sequence employees_seq;
DROP sequence clients_seq;
DROP sequence providers_seq;
DROP sequence producers_seq;
DROP sequence features_seq;
DROP sequence items_seq;
DROP sequence sales_seq;
DROP sequence provides_seq;

CREATE sequence employees_seq minvalue 1 start with 16 increment by 1;
CREATE sequence clients_seq minvalue 1 start with 16 increment by 1;
CREATE sequence providers_seq minvalue 1 start with 16 increment by 1;
CREATE sequence producers_seq minvalue 1 start with 19 increment by 1;
CREATE sequence features_seq minvalue 1 start with 26 increment by 1;
CREATE sequence items_seq minvalue 1 start with 21 increment by 1;
CREATE sequence sales_seq minvalue 1 start with 16 increment by 1;
CREATE sequence provides_seq minvalue 1 start with 16 increment by 1;

CREATE TABLE employees(
	id_employees NUMBER CONSTRAINT employees_pk PRIMARY KEY,
	name_employees VARCHAR2(50) NOT NULL,
	surname_employees VARCHAR2(50) NOT NULL,
	email_employees VARCHAR2(255) NOT NULL CONSTRAINT eeu UNIQUE,
	password_employees VARCHAR2(100) NOT NULL,
	address_employees VARCHAR2(255) NOT NULL,
	phone_number_employees VARCHAR2(20) NOT NULL
);

CREATE TABLE clients(
	id_clients NUMBER CONSTRAINT clients_pk PRIMARY KEY,
	name_clients VARCHAR2(50) NOT NULL,
	surname_clients VARCHAR2(50) NOT NULL,
	email_clients VARCHAR2(255) NOT NULL,
	address_clients VARCHAR2(255) NOT NULL,
	phone_number_clients VARCHAR2(20) NOT NULL
);

CREATE TABLE providers(
	id_providers NUMBER CONSTRAINT providers_pk PRIMARY KEY,
	name_providers VARCHAR2(50) NOT NULL,
	email_providers VARCHAR2(255) NOT NULL CONSTRAINT peu UNIQUE,
	address_providers VARCHAR2(255) NOT NULL,
	phone_number_providers VARCHAR2(20) NOT NULL,
	nip_providers NUMBER(10) NOT NULL CONSTRAINT pnu UNIQUE,
	regon_providers NUMBER(9) NOT NULL CONSTRAINT pru UNIQUE
);

CREATE TABLE producers(
	id_producers NUMBER CONSTRAINT producers_pk PRIMARY KEY,
	name_producers VARCHAR2(255) NOT NULL CONSTRAINT prnu UNIQUE
);

CREATE TABLE features(
	id_features NUMBER CONSTRAINT features_pk PRIMARY KEY,
	name_features VARCHAR2(255) NOT NULL CONSTRAINT fnu UNIQUE
);

CREATE TABLE items(
	id_items NUMBER CONSTRAINT items_pk PRIMARY KEY,
	name_items VARCHAR2(255) NOT NULL,
	model_items VARCHAR2(255) NOT NULL,
	quantity_items NUMBER NOT NULL CONSTRAINT itq_ch CHECK(quantity_items >= 0),
	price_items NUMBER(10,2) DEFAULT 0.00,
	id_producers NUMBER NOT NULL,
	CONSTRAINT it_pr_fk FOREIGN KEY (id_producers) REFERENCES producers(id_producers)
);

CREATE TABLE items_features(
	id_items NUMBER NOT NULL,
	id_features NUMBER NOT NULL,
	value VARCHAR2(255) NOT NULL,
	CONSTRAINT itf_it_fk FOREIGN KEY (id_items) REFERENCES items(id_items),
	CONSTRAINT itf_ft_fk FOREIGN KEY (id_features) REFERENCES features(id_features)
);

CREATE TABLE sales(
	id_sales NUMBER CONSTRAINT sales_pk PRIMARY KEY,
	id_employees NUMBER,
	id_clients NUMBER NOT NULL,
	execution_date_sales TIMESTAMP(0),
	sales_price NUMBER(10,2) DEFAULT 0.00,
	status_sales CHAR(1) DEFAULT 0,
	CONSTRAINT sal_em_fk FOREIGN KEY (id_employees) REFERENCES employees(id_employees),
	CONSTRAINT sal_cl_fk FOREIGN KEY (id_clients) REFERENCES clients(id_clients)
);

CREATE TABLE sales_items(
	id_sales NUMBER NOT NULL,
	id_items NUMBER NOT NULL,
	quantity_sales_items NUMBER NOT NULL,
	CONSTRAINT si_sal_fk FOREIGN KEY (id_sales) REFERENCES sales(id_sales),
	CONSTRAINT si_it_fk FOREIGN KEY (id_items) REFERENCES items(id_items)
);

CREATE TABLE provides(
	id_provides NUMBER CONSTRAINT provides_pk PRIMARY KEY,
	id_employees NUMBER NOT NULL,
	id_providers NUMBER NOT NULL,
	execution_date_provides TIMESTAMP(0),
	provides_price NUMBER(10,2) DEFAULT 0.00,
	status_provides CHAR(1) DEFAULT 0,
	CONSTRAINT prs_em_fk FOREIGN KEY (id_employees) REFERENCES employees(id_employees),
	CONSTRAINT prs_pr_fk FOREIGN KEY (id_providers) REFERENCES providers(id_providers)
);

CREATE TABLE provides_items(
	id_provides NUMBER NOT NULL,
	id_items NUMBER NOT NULL,
	quantity_provides_items NUMBER NOT NULL,
	CONSTRAINT pri_prs_fk FOREIGN KEY (id_provides) REFERENCES provides(id_provides),
	CONSTRAINT pri_it_fk FOREIGN KEY (id_items) REFERENCES items(id_items)
);

Insert into SKLEP.CLIENTS (ID_CLIENTS,NAME_CLIENTS,SURNAME_CLIENTS,EMAIL_CLIENTS,ADDRESS_CLIENTS,PHONE_NUMBER_CLIENTS) values (2,'Ryszard','Król','RyszardKrol@rhyta.com','Ryszard Król
ul. Wronia 14
01-015 Warszawa','53 888 62 32');
Insert into SKLEP.CLIENTS (ID_CLIENTS,NAME_CLIENTS,SURNAME_CLIENTS,EMAIL_CLIENTS,ADDRESS_CLIENTS,PHONE_NUMBER_CLIENTS) values (3,'Ryszard','Król','RyszardKrol@rhyta.com','ul. Wronia 14
01-015 Warszawa','53 888 62 32');
Insert into SKLEP.CLIENTS (ID_CLIENTS,NAME_CLIENTS,SURNAME_CLIENTS,EMAIL_CLIENTS,ADDRESS_CLIENTS,PHONE_NUMBER_CLIENTS) values (4,'Jagoda','Czarnecka','JagodaCzarnecka@dayrep.com','Al. Szucha Jana Chrystiana 33
00-582 Warszawa','79 846 71 96');
Insert into SKLEP.CLIENTS (ID_CLIENTS,NAME_CLIENTS,SURNAME_CLIENTS,EMAIL_CLIENTS,ADDRESS_CLIENTS,PHONE_NUMBER_CLIENTS) values (5,'Wacława','Woźniak','WaclawaWozniak@jourrapide.com','ul. Pułaskiego Kazimierza 96
70-322 Szczecin','666 999 999');
Insert into SKLEP.CLIENTS (ID_CLIENTS,NAME_CLIENTS,SURNAME_CLIENTS,EMAIL_CLIENTS,ADDRESS_CLIENTS,PHONE_NUMBER_CLIENTS) values (6,'Jarosław Składanowski','Składanowski','jareksklad@gmail.com','Jagodne
150, 27-220 Mirzec','663758417');
Insert into SKLEP.CLIENTS (ID_CLIENTS,NAME_CLIENTS,SURNAME_CLIENTS,EMAIL_CLIENTS,ADDRESS_CLIENTS,PHONE_NUMBER_CLIENTS) values (7,'Marek','Zając','MarekZajac@dayrep.com','ul. Czyżyków 24
80-680 Gdańsk','123213123');
Insert into SKLEP.CLIENTS (ID_CLIENTS,NAME_CLIENTS,SURNAME_CLIENTS,EMAIL_CLIENTS,ADDRESS_CLIENTS,PHONE_NUMBER_CLIENTS) values (8,'Lechosława','Wysocka','LechoslawaWysocka@armyspy.com','ul. Legionów 42
81-378 Gdynia','456789123');
Insert into SKLEP.CLIENTS (ID_CLIENTS,NAME_CLIENTS,SURNAME_CLIENTS,EMAIL_CLIENTS,ADDRESS_CLIENTS,PHONE_NUMBER_CLIENTS) values (9,'Asia','Wieczorek','AsiaWieczorek@armyspy.com','ul. Góra Świętej Małgorzaty 36
99-122 Góra Świętej Małgorzaty','684268425');
Insert into SKLEP.CLIENTS (ID_CLIENTS,NAME_CLIENTS,SURNAME_CLIENTS,EMAIL_CLIENTS,ADDRESS_CLIENTS,PHONE_NUMBER_CLIENTS) values (10,'Mieszko','Nowakowski','MieszkoNowakowski@armyspy.com','ul. Ołtarzewska 7
01-472 Warszawa','858585859');
Insert into SKLEP.CLIENTS (ID_CLIENTS,NAME_CLIENTS,SURNAME_CLIENTS,EMAIL_CLIENTS,ADDRESS_CLIENTS,PHONE_NUMBER_CLIENTS) values (11,'Amadeusz','Kaczmarek','AmadeuszKaczmarek@rhyta.com','ul. Władysława IV 57
75-342 Koszalin','1231213332');
Insert into SKLEP.CLIENTS (ID_CLIENTS,NAME_CLIENTS,SURNAME_CLIENTS,EMAIL_CLIENTS,ADDRESS_CLIENTS,PHONE_NUMBER_CLIENTS) values (12,'Zdzisław','Grabowski','ZdzislawGrabowski@armyspy.com','ul. Tępa 114
70-815 Szczecin','53 847 73 69');
Insert into SKLEP.CLIENTS (ID_CLIENTS,NAME_CLIENTS,SURNAME_CLIENTS,EMAIL_CLIENTS,ADDRESS_CLIENTS,PHONE_NUMBER_CLIENTS) values (13,'Radosław','Rutkowski','RadoslawRutkowski@dayrep.com','ul. Brzezińska 100
92-703 Łódź','123456987');
Insert into SKLEP.CLIENTS (ID_CLIENTS,NAME_CLIENTS,SURNAME_CLIENTS,EMAIL_CLIENTS,ADDRESS_CLIENTS,PHONE_NUMBER_CLIENTS) values (14,'Mateusz','Kulaga','kulag.grzywa@hot12.com','Fshodnia 1/69
Skarżysko - Kamienna 11-000','696969690');
Insert into SKLEP.CLIENTS (ID_CLIENTS,NAME_CLIENTS,SURNAME_CLIENTS,EMAIL_CLIENTS,ADDRESS_CLIENTS,PHONE_NUMBER_CLIENTS) values (15,'Tomash','Casa-Novek','tomo-homo@gaymail.com','ul.spułdzielcza 00
Skarżysko-Kamienna 11-699','08080808877');
Insert into SKLEP.CLIENTS (ID_CLIENTS,NAME_CLIENTS,SURNAME_CLIENTS,EMAIL_CLIENTS,ADDRESS_CLIENTS,PHONE_NUMBER_CLIENTS) values (16,'Bartosz','Gizo','prodbdev@oracle.com','ul. Akacjowa 104
15-801 Białystok','369369369');
Insert into SKLEP.CLIENTS (ID_CLIENTS,NAME_CLIENTS,SURNAME_CLIENTS,EMAIL_CLIENTS,ADDRESS_CLIENTS,PHONE_NUMBER_CLIENTS) values (1,'Usunięty klient','Usunięty klient','Usunięty klient','Usunięty klient','000000000');
REM INSERTING into SKLEP.EMPLOYEES
Insert into SKLEP.EMPLOYEES (ID_EMPLOYEES,NAME_EMPLOYEES,SURNAME_EMPLOYEES,EMAIL_EMPLOYEES,PASSWORD_EMPLOYEES,ADDRESS_EMPLOYEES,PHONE_NUMBER_EMPLOYEES) values (9,'Mariusz','Gorski','MariuszGorski@armyspy.com','827CCB0EEA8A706C4C34A16891F84E7B','ul. Sieroszewskiego Wacława 76
20-448 Lublin','1231213332');
Insert into SKLEP.EMPLOYEES (ID_EMPLOYEES,NAME_EMPLOYEES,SURNAME_EMPLOYEES,EMAIL_EMPLOYEES,PASSWORD_EMPLOYEES,ADDRESS_EMPLOYEES,PHONE_NUMBER_EMPLOYEES) values (10,'Eligiusz','Kaczmarek','EligiuszKaczmarek@teleworm.us','827CCB0EEA8A706C4C34A16891F84E7B','ul. Oficerska 148
10-213 Olsztyn','336335334');
Insert into SKLEP.EMPLOYEES (ID_EMPLOYEES,NAME_EMPLOYEES,SURNAME_EMPLOYEES,EMAIL_EMPLOYEES,PASSWORD_EMPLOYEES,ADDRESS_EMPLOYEES,PHONE_NUMBER_EMPLOYEES) values (11,'Hajnrich','Tomaszewski','HajnrichTomaszewski@armyspy.com','827CCB0EEA8A706C4C34A16891F84E7B','ul. Thomeego Wiktora 131
01-491 Warszawa','789456123');
Insert into SKLEP.EMPLOYEES (ID_EMPLOYEES,NAME_EMPLOYEES,SURNAME_EMPLOYEES,EMAIL_EMPLOYEES,PASSWORD_EMPLOYEES,ADDRESS_EMPLOYEES,PHONE_NUMBER_EMPLOYEES) values (12,'Walery','Chmielewski','WiPeKWaleryChmielewski@armyspy.com','827CCB0EEA8A706C4C34A16891F84E7B','ul. Dożynkowa 93
61-661 Poznań','456456456');
Insert into SKLEP.EMPLOYEES (ID_EMPLOYEES,NAME_EMPLOYEES,SURNAME_EMPLOYEES,EMAIL_EMPLOYEES,PASSWORD_EMPLOYEES,ADDRESS_EMPLOYEES,PHONE_NUMBER_EMPLOYEES) values (13,'Włodek','Pawłowski','WlodekPawlowski@jourrapide.com','827CCB0EEA8A706C4C34A16891F84E7B','ul. Krajobrazowa 79
54-007 Wrocław','72 460 42 32');
Insert into SKLEP.EMPLOYEES (ID_EMPLOYEES,NAME_EMPLOYEES,SURNAME_EMPLOYEES,EMAIL_EMPLOYEES,PASSWORD_EMPLOYEES,ADDRESS_EMPLOYEES,PHONE_NUMBER_EMPLOYEES) values (14,'Adrianna','Symanska','AdriannaSymanska@armyspy.com','827CCB0EEA8A706C4C34A16891F84E7B','ul. Gdacjusza Adama 9
54-515 Wrocław','112233445');
Insert into SKLEP.EMPLOYEES (ID_EMPLOYEES,NAME_EMPLOYEES,SURNAME_EMPLOYEES,EMAIL_EMPLOYEES,PASSWORD_EMPLOYEES,ADDRESS_EMPLOYEES,PHONE_NUMBER_EMPLOYEES) values (15,'Kinga','Kozłowska-Łęcka','KingaKozlowska@rhyta.com','827CCB0EEA8A706C4C34A16891F84E7B','ul. Narutowicza Gabriela 20
90-105 Łódź','66 756 04 69');
Insert into SKLEP.EMPLOYEES (ID_EMPLOYEES,NAME_EMPLOYEES,SURNAME_EMPLOYEES,EMAIL_EMPLOYEES,PASSWORD_EMPLOYEES,ADDRESS_EMPLOYEES,PHONE_NUMBER_EMPLOYEES) values (16,'Sylwia','Gorska','SylwiaGorska@armyspy.com','827CCB0EEA8A706C4C34A16891F84E7B','ul. Śniadeckich 113
81-440 Gdynia','156987456');
Insert into SKLEP.EMPLOYEES (ID_EMPLOYEES,NAME_EMPLOYEES,SURNAME_EMPLOYEES,EMAIL_EMPLOYEES,PASSWORD_EMPLOYEES,ADDRESS_EMPLOYEES,PHONE_NUMBER_EMPLOYEES) values (1,'Usunięty pracownik','Usunięty pracownik','brak','0DE931689F3A44C8B47E39FF5320E111','Brak','000000000');
Insert into SKLEP.EMPLOYEES (ID_EMPLOYEES,NAME_EMPLOYEES,SURNAME_EMPLOYEES,EMAIL_EMPLOYEES,PASSWORD_EMPLOYEES,ADDRESS_EMPLOYEES,PHONE_NUMBER_EMPLOYEES) values (2,'Krzysztof','Adamczyk','wipekxxx@gmail.com','827CCB0EEA8A706C4C34A16891F84E7B','Wzdół‚ 26-010 Bodzentyn','5555555555');
Insert into SKLEP.EMPLOYEES (ID_EMPLOYEES,NAME_EMPLOYEES,SURNAME_EMPLOYEES,EMAIL_EMPLOYEES,PASSWORD_EMPLOYEES,ADDRESS_EMPLOYEES,PHONE_NUMBER_EMPLOYEES) values (3,'Janusz','Tracz','janusztracz@naszertv.pl','827CCB0EEA8A706C4C34A16891F84E7B','Kraków,ul.Wieliczkowa 23','721024123');
Insert into SKLEP.EMPLOYEES (ID_EMPLOYEES,NAME_EMPLOYEES,SURNAME_EMPLOYEES,EMAIL_EMPLOYEES,PASSWORD_EMPLOYEES,ADDRESS_EMPLOYEES,PHONE_NUMBER_EMPLOYEES) values (4,'Marek','Wieluń','marekwielun@naszertv.pl','827CCB0EEA8A706C4C34A16891F84E7B','Kraków,ul.Browarna 4/23','722424100');
Insert into SKLEP.EMPLOYEES (ID_EMPLOYEES,NAME_EMPLOYEES,SURNAME_EMPLOYEES,EMAIL_EMPLOYEES,PASSWORD_EMPLOYEES,ADDRESS_EMPLOYEES,PHONE_NUMBER_EMPLOYEES) values (5,'Karol','Truj','karoltruj@naszertv.pl','827CCB0EEA8A706C4C34A16891F84E7B','Kraków,ul.Podwawelska 23/21','561022300');
Insert into SKLEP.EMPLOYEES (ID_EMPLOYEES,NAME_EMPLOYEES,SURNAME_EMPLOYEES,EMAIL_EMPLOYEES,PASSWORD_EMPLOYEES,ADDRESS_EMPLOYEES,PHONE_NUMBER_EMPLOYEES) values (6,'Katarzyna','Madryt','katarzynamadryt@naszertv.pl','827CCB0EEA8A706C4C34A16891F84E7B','Kraków,ul.Wieliczkowa 21','751034100');
Insert into SKLEP.EMPLOYEES (ID_EMPLOYEES,NAME_EMPLOYEES,SURNAME_EMPLOYEES,EMAIL_EMPLOYEES,PASSWORD_EMPLOYEES,ADDRESS_EMPLOYEES,PHONE_NUMBER_EMPLOYEES) values (7,'Wojciech','Tokaj','wojciechtokaj@naszertv.pl','827CCB0EEA8A706C4C34A16891F84E7B','Kraków,ul.Warszawska 24','721264234');
Insert into SKLEP.EMPLOYEES (ID_EMPLOYEES,NAME_EMPLOYEES,SURNAME_EMPLOYEES,EMAIL_EMPLOYEES,PASSWORD_EMPLOYEES,ADDRESS_EMPLOYEES,PHONE_NUMBER_EMPLOYEES) values (8,'Monika','Mohito','monikamohito@wnaszertv.pl','827CCB0EEA8A706C4C34A16891F84E7B','Kraków,ul.Wawelska 66','761234340');

Insert into SKLEP.PRODUCERS (ID_PRODUCERS,NAME_PRODUCERS) values (1,'Usunięty producent');
Insert into SKLEP.PRODUCERS (ID_PRODUCERS,NAME_PRODUCERS) values (2,'Intel');
Insert into SKLEP.PRODUCERS (ID_PRODUCERS,NAME_PRODUCERS) values (3,'Nvidia');
Insert into SKLEP.PRODUCERS (ID_PRODUCERS,NAME_PRODUCERS) values (4,'Corsair');
Insert into SKLEP.PRODUCERS (ID_PRODUCERS,NAME_PRODUCERS) values (5,'Asus');
Insert into SKLEP.PRODUCERS (ID_PRODUCERS,NAME_PRODUCERS) values (6,'LG');
Insert into SKLEP.PRODUCERS (ID_PRODUCERS,NAME_PRODUCERS) values (7,'HP');
Insert into SKLEP.PRODUCERS (ID_PRODUCERS,NAME_PRODUCERS) values (8,'Lenovo');
Insert into SKLEP.PRODUCERS (ID_PRODUCERS,NAME_PRODUCERS) values (9,'Dell');
Insert into SKLEP.PRODUCERS (ID_PRODUCERS,NAME_PRODUCERS) values (10,'Apple');
Insert into SKLEP.PRODUCERS (ID_PRODUCERS,NAME_PRODUCERS) values (11,'Brother');
Insert into SKLEP.PRODUCERS (ID_PRODUCERS,NAME_PRODUCERS) values (12,'Epson');
Insert into SKLEP.PRODUCERS (ID_PRODUCERS,NAME_PRODUCERS) values (13,'GoodRam');
Insert into SKLEP.PRODUCERS (ID_PRODUCERS,NAME_PRODUCERS) values (14,'ScanDisk');
Insert into SKLEP.PRODUCERS (ID_PRODUCERS,NAME_PRODUCERS) values (15,'Acer');
Insert into SKLEP.PRODUCERS (ID_PRODUCERS,NAME_PRODUCERS) values (16,'be quiet!');
Insert into SKLEP.PRODUCERS (ID_PRODUCERS,NAME_PRODUCERS) values (17,'SilentiumPC');
Insert into SKLEP.PRODUCERS (ID_PRODUCERS,NAME_PRODUCERS) values (18,'Gigabyte');

Insert into SKLEP.FEATURES (ID_FEATURES,NAME_FEATURES) values (1,'Brak parametru');
Insert into SKLEP.FEATURES (ID_FEATURES,NAME_FEATURES) values (2,'Rodzaj:');
Insert into SKLEP.FEATURES (ID_FEATURES,NAME_FEATURES) values (3,'Złącze:');
Insert into SKLEP.FEATURES (ID_FEATURES,NAME_FEATURES) values (4,'Typ złącza:');
Insert into SKLEP.FEATURES (ID_FEATURES,NAME_FEATURES) values (5,'Szyna danych [bit]:');
Insert into SKLEP.FEATURES (ID_FEATURES,NAME_FEATURES) values (6,'Częstotliwość pracy [MHz]:');
Insert into SKLEP.FEATURES (ID_FEATURES,NAME_FEATURES) values (7,'Pojemność:');
Insert into SKLEP.FEATURES (ID_FEATURES,NAME_FEATURES) values (8,'Gniazdo procesora:');
Insert into SKLEP.FEATURES (ID_FEATURES,NAME_FEATURES) values (9,'Prędkość obrotowa [obr./min.]:');
Insert into SKLEP.FEATURES (ID_FEATURES,NAME_FEATURES) values (10,'Kolor:');
Insert into SKLEP.FEATURES (ID_FEATURES,NAME_FEATURES) values (11,'Przeznaczenie:');
Insert into SKLEP.FEATURES (ID_FEATURES,NAME_FEATURES) values (12,'Układ PFC:');
Insert into SKLEP.FEATURES (ID_FEATURES,NAME_FEATURES) values (13,'Materiał:');
Insert into SKLEP.FEATURES (ID_FEATURES,NAME_FEATURES) values (14,'Przekątna ekranu [cal]:');
Insert into SKLEP.FEATURES (ID_FEATURES,NAME_FEATURES) values (15,'System operacyjny:');
Insert into SKLEP.FEATURES (ID_FEATURES,NAME_FEATURES) values (16,'Procesor:');
Insert into SKLEP.FEATURES (ID_FEATURES,NAME_FEATURES) values (17,'Wydajność:');
Insert into SKLEP.FEATURES (ID_FEATURES,NAME_FEATURES) values (18,'Dedykowany model:');
Insert into SKLEP.FEATURES (ID_FEATURES,NAME_FEATURES) values (19,'Interfejs:');
Insert into SKLEP.FEATURES (ID_FEATURES,NAME_FEATURES) values (20,'Typ napędu:');
Insert into SKLEP.FEATURES (ID_FEATURES,NAME_FEATURES) values (21,'Wysokość[mm]');
Insert into SKLEP.FEATURES (ID_FEATURES,NAME_FEATURES) values (22,'Szerekość[mm]');
Insert into SKLEP.FEATURES (ID_FEATURES,NAME_FEATURES) values (23,'Głębokość[mm]');
Insert into SKLEP.FEATURES (ID_FEATURES,NAME_FEATURES) values (24,'Waga[g]');
Insert into SKLEP.FEATURES (ID_FEATURES,NAME_FEATURES) values (25,'Rozdzielczość:');

Insert into SKLEP.ITEMS (ID_ITEMS,NAME_ITEMS,MODEL_ITEMS,QUANTITY_ITEMS,PRICE_ITEMS,ID_PRODUCERS) values (1,'Usunięty przedmiot','Brak',0,0,3);
Insert into SKLEP.ITEMS (ID_ITEMS,NAME_ITEMS,MODEL_ITEMS,QUANTITY_ITEMS,PRICE_ITEMS,ID_PRODUCERS) values (2,'Procesor','i7',51,1234.45,2);
Insert into SKLEP.ITEMS (ID_ITEMS,NAME_ITEMS,MODEL_ITEMS,QUANTITY_ITEMS,PRICE_ITEMS,ID_PRODUCERS) values (3,'Karta graficzna','GTX1070TI',32,2099,3);
Insert into SKLEP.ITEMS (ID_ITEMS,NAME_ITEMS,MODEL_ITEMS,QUANTITY_ITEMS,PRICE_ITEMS,ID_PRODUCERS) values (4,'Zasilacz','VS Series 550W 120mm',97,219,4);
Insert into SKLEP.ITEMS (ID_ITEMS,NAME_ITEMS,MODEL_ITEMS,QUANTITY_ITEMS,PRICE_ITEMS,ID_PRODUCERS) values (5,'Napęd','DRW-24D5MT/BLK/B/AS',148,59,5);
Insert into SKLEP.ITEMS (ID_ITEMS,NAME_ITEMS,MODEL_ITEMS,QUANTITY_ITEMS,PRICE_ITEMS,ID_PRODUCERS) values (6,'Napęd','SuperMulti GH24NSD1 RBBB',36,55,6);
Insert into SKLEP.ITEMS (ID_ITEMS,NAME_ITEMS,MODEL_ITEMS,QUANTITY_ITEMS,PRICE_ITEMS,ID_PRODUCERS) values (7,'Skaner','ADS-2600WE',8,1989,11);
Insert into SKLEP.ITEMS (ID_ITEMS,NAME_ITEMS,MODEL_ITEMS,QUANTITY_ITEMS,PRICE_ITEMS,ID_PRODUCERS) values (8,'Drukarka','GT-S85',178,1996,12);
Insert into SKLEP.ITEMS (ID_ITEMS,NAME_ITEMS,MODEL_ITEMS,QUANTITY_ITEMS,PRICE_ITEMS,ID_PRODUCERS) values (9,'Karta graficzna','GTX1060TI',194,1560,3);
Insert into SKLEP.ITEMS (ID_ITEMS,NAME_ITEMS,MODEL_ITEMS,QUANTITY_ITEMS,PRICE_ITEMS,ID_PRODUCERS) values (10,'Toner','12L Q2612L czarny',223,218,7);
Insert into SKLEP.ITEMS (ID_ITEMS,NAME_ITEMS,MODEL_ITEMS,QUANTITY_ITEMS,PRICE_ITEMS,ID_PRODUCERS) values (11,'Tablet','TAB2 A7-10F 7" WiFi 8GB Czarny',2,278,8);
Insert into SKLEP.ITEMS (ID_ITEMS,NAME_ITEMS,MODEL_ITEMS,QUANTITY_ITEMS,PRICE_ITEMS,ID_PRODUCERS) values (12,'Laptop','G51-35',116,1299.45,9);
Insert into SKLEP.ITEMS (ID_ITEMS,NAME_ITEMS,MODEL_ITEMS,QUANTITY_ITEMS,PRICE_ITEMS,ID_PRODUCERS) values (13,'Kabel','HDD',36,142,8);
Insert into SKLEP.ITEMS (ID_ITEMS,NAME_ITEMS,MODEL_ITEMS,QUANTITY_ITEMS,PRICE_ITEMS,ID_PRODUCERS) values (14,'Smartfon','iPhone 6s Plus 16GB Srebrny',101,2899,10);
Insert into SKLEP.ITEMS (ID_ITEMS,NAME_ITEMS,MODEL_ITEMS,QUANTITY_ITEMS,PRICE_ITEMS,ID_PRODUCERS) values (15,'Etui','iPhone 7 SILICONE CASE, Czarny',280,15.38,10);
Insert into SKLEP.ITEMS (ID_ITEMS,NAME_ITEMS,MODEL_ITEMS,QUANTITY_ITEMS,PRICE_ITEMS,ID_PRODUCERS) values (16,'Pasta','Termoprzewodząca DC1',180,20.99,16);
Insert into SKLEP.ITEMS (ID_ITEMS,NAME_ITEMS,MODEL_ITEMS,QUANTITY_ITEMS,PRICE_ITEMS,ID_PRODUCERS) values (17,'Chłodzenie CPU','Fortis 3 HE1425 v2',77,149,17);
Insert into SKLEP.ITEMS (ID_ITEMS,NAME_ITEMS,MODEL_ITEMS,QUANTITY_ITEMS,PRICE_ITEMS,ID_PRODUCERS) values (18,'Pamięć RAM','Play DDR3 4GB 1600MHz CL9',74,115,13);
Insert into SKLEP.ITEMS (ID_ITEMS,NAME_ITEMS,MODEL_ITEMS,QUANTITY_ITEMS,PRICE_ITEMS,ID_PRODUCERS) values (19,'Klawiatura','Force K7',111,179,18);
Insert into SKLEP.ITEMS (ID_ITEMS,NAME_ITEMS,MODEL_ITEMS,QUANTITY_ITEMS,PRICE_ITEMS,ID_PRODUCERS) values (20,'Mysz','FH34',63,125,5);

Insert into SKLEP.ITEMS_FEATURES (ID_ITEMS,ID_FEATURES,VALUE) values (19,2,'Optyczna');
Insert into SKLEP.ITEMS_FEATURES (ID_ITEMS,ID_FEATURES,VALUE) values (1,6,'3,2GHz');
Insert into SKLEP.ITEMS_FEATURES (ID_ITEMS,ID_FEATURES,VALUE) values (1,8,'Socket 1151');
Insert into SKLEP.ITEMS_FEATURES (ID_ITEMS,ID_FEATURES,VALUE) values (2,4,'PCI Express x16');
Insert into SKLEP.ITEMS_FEATURES (ID_ITEMS,ID_FEATURES,VALUE) values (2,5,'256');
Insert into SKLEP.ITEMS_FEATURES (ID_ITEMS,ID_FEATURES,VALUE) values (17,7,'4 GB');
Insert into SKLEP.ITEMS_FEATURES (ID_ITEMS,ID_FEATURES,VALUE) values (13,7,'16 GB');
Insert into SKLEP.ITEMS_FEATURES (ID_ITEMS,ID_FEATURES,VALUE) values (16,8,'Socket 1151');
Insert into SKLEP.ITEMS_FEATURES (ID_ITEMS,ID_FEATURES,VALUE) values (4,9,'500');
Insert into SKLEP.ITEMS_FEATURES (ID_ITEMS,ID_FEATURES,VALUE) values (4,10,'Szary');
Insert into SKLEP.ITEMS_FEATURES (ID_ITEMS,ID_FEATURES,VALUE) values (5,10,'Czarny');
Insert into SKLEP.ITEMS_FEATURES (ID_ITEMS,ID_FEATURES,VALUE) values (5,9,'450');
Insert into SKLEP.ITEMS_FEATURES (ID_ITEMS,ID_FEATURES,VALUE) values (5,24,'800');
Insert into SKLEP.ITEMS_FEATURES (ID_ITEMS,ID_FEATURES,VALUE) values (15,11,'CPU,GPU');
Insert into SKLEP.ITEMS_FEATURES (ID_ITEMS,ID_FEATURES,VALUE) values (15,10,'Szary');
Insert into SKLEP.ITEMS_FEATURES (ID_ITEMS,ID_FEATURES,VALUE) values (15,24,'3');
Insert into SKLEP.ITEMS_FEATURES (ID_ITEMS,ID_FEATURES,VALUE) values (16,12,'Aktywny');
Insert into SKLEP.ITEMS_FEATURES (ID_ITEMS,ID_FEATURES,VALUE) values (14,13,'Skóra naturalna');
Insert into SKLEP.ITEMS_FEATURES (ID_ITEMS,ID_FEATURES,VALUE) values (10,14,'7"');
Insert into SKLEP.ITEMS_FEATURES (ID_ITEMS,ID_FEATURES,VALUE) values (10,14,'7"');
Insert into SKLEP.ITEMS_FEATURES (ID_ITEMS,ID_FEATURES,VALUE) values (10,15,'Android 4.4');
Insert into SKLEP.ITEMS_FEATURES (ID_ITEMS,ID_FEATURES,VALUE) values (13,15,'iOS');
Insert into SKLEP.ITEMS_FEATURES (ID_ITEMS,ID_FEATURES,VALUE) values (11,15,'Windows 10 PL');
Insert into SKLEP.ITEMS_FEATURES (ID_ITEMS,ID_FEATURES,VALUE) values (11,15,'Linux');
Insert into SKLEP.ITEMS_FEATURES (ID_ITEMS,ID_FEATURES,VALUE) values (11,10,'Szary');
Insert into SKLEP.ITEMS_FEATURES (ID_ITEMS,ID_FEATURES,VALUE) values (18,2,'Mechaniczna');
Insert into SKLEP.ITEMS_FEATURES (ID_ITEMS,ID_FEATURES,VALUE) values (7,2,'Tuszowa');
Insert into SKLEP.ITEMS_FEATURES (ID_ITEMS,ID_FEATURES,VALUE) values (6,25,'1800dpi');
Insert into SKLEP.ITEMS_FEATURES (ID_ITEMS,ID_FEATURES,VALUE) values (3,17,'550W');
Insert into SKLEP.ITEMS_FEATURES (ID_ITEMS,ID_FEATURES,VALUE) values (13,10,'Srebrny');
Insert into SKLEP.ITEMS_FEATURES (ID_ITEMS,ID_FEATURES,VALUE) values (14,10,'Czarny');
Insert into SKLEP.ITEMS_FEATURES (ID_ITEMS,ID_FEATURES,VALUE) values (9,10,'Czarny');
Insert into SKLEP.ITEMS_FEATURES (ID_ITEMS,ID_FEATURES,VALUE) values (9,11,'HP 552');

Insert into SKLEP.PROVIDERS (ID_PROVIDERS,NAME_PROVIDERS,EMAIL_PROVIDERS,ADDRESS_PROVIDERS,PHONE_NUMBER_PROVIDERS,NIP_PROVIDERS,REGON_PROVIDERS) values (1,'Usunięty dostawca','Usunięty dostawca','Usunięty dostawca','000000000',0000000000,00000000);
Insert into SKLEP.PROVIDERS (ID_PROVIDERS,NAME_PROVIDERS,EMAIL_PROVIDERS,ADDRESS_PROVIDERS,PHONE_NUMBER_PROVIDERS,NIP_PROVIDERS,REGON_PROVIDERS) values (2,'Marcinspedition','Marcinsped@janosiko.pl','Detroit,9268 Country Club Ave.','489628496',3786719531,192591973);
Insert into SKLEP.PROVIDERS (ID_PROVIDERS,NAME_PROVIDERS,EMAIL_PROVIDERS,ADDRESS_PROVIDERS,PHONE_NUMBER_PROVIDERS,NIP_PROVIDERS,REGON_PROVIDERS) values (3,'Jupiter','Jupiter@gmail.com','Kanton,234 Haizhu','874542496',2911074287,511491475);
Insert into SKLEP.PROVIDERS (ID_PROVIDERS,NAME_PROVIDERS,EMAIL_PROVIDERS,ADDRESS_PROVIDERS,PHONE_NUMBER_PROVIDERS,NIP_PROVIDERS,REGON_PROVIDERS) values (4,'DHL','DHL@dhl.com','Warszawa,Mokotów 24 ','84264296',1155145903,278110158);
Insert into SKLEP.PROVIDERS (ID_PROVIDERS,NAME_PROVIDERS,EMAIL_PROVIDERS,ADDRESS_PROVIDERS,PHONE_NUMBER_PROVIDERS,NIP_PROVIDERS,REGON_PROVIDERS) values (5,'DPD','DPDhelp@dpd.com','Kraków,ul.Wieliczkowa 21','78421496',3588112623,711914809);
Insert into SKLEP.PROVIDERS (ID_PROVIDERS,NAME_PROVIDERS,EMAIL_PROVIDERS,ADDRESS_PROVIDERS,PHONE_NUMBER_PROVIDERS,NIP_PROVIDERS,REGON_PROVIDERS) values (6,'UPS','UPSclient@ups.com','Warszawa,ul.Warszawska 24','721264234',2981592145,579891250);
Insert into SKLEP.PROVIDERS (ID_PROVIDERS,NAME_PROVIDERS,EMAIL_PROVIDERS,ADDRESS_PROVIDERS,PHONE_NUMBER_PROVIDERS,NIP_PROVIDERS,REGON_PROVIDERS) values (7,'Poczta Polska','pocztapolska@pp.pl','Kraków,ul.Wawelska 66','761314340',1751887417,418418100);
Insert into SKLEP.PROVIDERS (ID_PROVIDERS,NAME_PROVIDERS,EMAIL_PROVIDERS,ADDRESS_PROVIDERS,PHONE_NUMBER_PROVIDERS,NIP_PROVIDERS,REGON_PROVIDERS) values (8,'Tesla','tesla@gmail.pl','Torronto,9268 Country Club Ave.','123456789',2315670891,345671910);
Insert into SKLEP.PROVIDERS (ID_PROVIDERS,NAME_PROVIDERS,EMAIL_PROVIDERS,ADDRESS_PROVIDERS,PHONE_NUMBER_PROVIDERS,NIP_PROVIDERS,REGON_PROVIDERS) values (9,'IBM','ibm@gmail.com','Washington,232 Fall Street','874542496',2917071287,511414475);
Insert into SKLEP.PROVIDERS (ID_PROVIDERS,NAME_PROVIDERS,EMAIL_PROVIDERS,ADDRESS_PROVIDERS,PHONE_NUMBER_PROVIDERS,NIP_PROVIDERS,REGON_PROVIDERS) values (10,'McDonald','mc@yahoo.com','Warszawa, Rembertów‚ 24 ','84261296',5315145903,278917658);
Insert into SKLEP.PROVIDERS (ID_PROVIDERS,NAME_PROVIDERS,EMAIL_PROVIDERS,ADDRESS_PROVIDERS,PHONE_NUMBER_PROVIDERS,NIP_PROVIDERS,REGON_PROVIDERS) values (11,'Avalon','avalon@gmail.com','Kielczanów ul.Wieliczkowa 21','78412396',5318131623,123934109);
Insert into SKLEP.PROVIDERS (ID_PROVIDERS,NAME_PROVIDERS,EMAIL_PROVIDERS,ADDRESS_PROVIDERS,PHONE_NUMBER_PROVIDERS,NIP_PROVIDERS,REGON_PROVIDERS) values (12,'Orlen','stacja_orzel@ups.com','Wroclaw,ul.Raciborskiego 24','732264234',2123591145,509815250);
Insert into SKLEP.PROVIDERS (ID_PROVIDERS,NAME_PROVIDERS,EMAIL_PROVIDERS,ADDRESS_PROVIDERS,PHONE_NUMBER_PROVIDERS,NIP_PROVIDERS,REGON_PROVIDERS) values (13,'Avon','avon@pp.pl','Zgorzelec,ul.Wawelska 126','123314340',1431817417,418001000);
Insert into SKLEP.PROVIDERS (ID_PROVIDERS,NAME_PROVIDERS,EMAIL_PROVIDERS,ADDRESS_PROVIDERS,PHONE_NUMBER_PROVIDERS,NIP_PROVIDERS,REGON_PROVIDERS) values (14,'Apple','apple@wp.pl','Warszawa, ul. Harfowa 123','963123531',1234517890,321511231);
Insert into SKLEP.PROVIDERS (ID_PROVIDERS,NAME_PROVIDERS,EMAIL_PROVIDERS,ADDRESS_PROVIDERS,PHONE_NUMBER_PROVIDERS,NIP_PROVIDERS,REGON_PROVIDERS) values (15,'AT&T','at&t@interia.pl','Kielce ul.Sienkiewicza 2','982873124',2141531231,321121678);
Insert into SKLEP.PROVIDERS (ID_PROVIDERS,NAME_PROVIDERS,EMAIL_PROVIDERS,ADDRESS_PROVIDERS,PHONE_NUMBER_PROVIDERS,NIP_PROVIDERS,REGON_PROVIDERS) values (16,'Microsoft','microsoft@yahoo.com','New York Springy Avenue 12','231531784',2342414517,671543213);

Insert into SKLEP.PROVIDES (ID_PROVIDES,ID_EMPLOYEES,ID_PROVIDERS,EXECUTION_DATE_PROVIDES,PROVIDES_PRICE,STATUS_PROVIDES) values (2,2,5,to_timestamp('17/01/16 16:51:03,000000000','RR/MM/DD HH24:MI:SS,FF'),null,'1');
Insert into SKLEP.PROVIDES (ID_PROVIDES,ID_EMPLOYEES,ID_PROVIDERS,EXECUTION_DATE_PROVIDES,PROVIDES_PRICE,STATUS_PROVIDES) values (3,2,7,to_timestamp('17/01/16 16:51:32,000000000','RR/MM/DD HH24:MI:SS,FF'),2293.52,'1');
Insert into SKLEP.PROVIDES (ID_PROVIDES,ID_EMPLOYEES,ID_PROVIDERS,EXECUTION_DATE_PROVIDES,PROVIDES_PRICE,STATUS_PROVIDES) values (4,2,2,to_timestamp('17/01/16 16:52:01,000000000','RR/MM/DD HH24:MI:SS,FF'),199600,'1');
Insert into SKLEP.PROVIDES (ID_PROVIDES,ID_EMPLOYEES,ID_PROVIDERS,EXECUTION_DATE_PROVIDES,PROVIDES_PRICE,STATUS_PROVIDES) values (5,2,5,to_timestamp('17/01/16 16:52:19,000000000','RR/MM/DD HH24:MI:SS,FF'),1015.08,'1');
Insert into SKLEP.PROVIDES (ID_PROVIDES,ID_EMPLOYEES,ID_PROVIDERS,EXECUTION_DATE_PROVIDES,PROVIDES_PRICE,STATUS_PROVIDES) values (6,2,2,to_timestamp('17/01/16 16:52:51,000000000','RR/MM/DD HH24:MI:SS,FF'),175336,'1');
Insert into SKLEP.PROVIDES (ID_PROVIDES,ID_EMPLOYEES,ID_PROVIDERS,EXECUTION_DATE_PROVIDES,PROVIDES_PRICE,STATUS_PROVIDES) values (7,2,6,to_timestamp('17/01/16 16:53:21,000000000','RR/MM/DD HH24:MI:SS,FF'),24945,'1');
Insert into SKLEP.PROVIDES (ID_PROVIDES,ID_EMPLOYEES,ID_PROVIDERS,EXECUTION_DATE_PROVIDES,PROVIDES_PRICE,STATUS_PROVIDES) values (8,2,5,to_timestamp('17/01/16 16:53:44,000000000','RR/MM/DD HH24:MI:SS,FF'),47880,'1');
Insert into SKLEP.PROVIDES (ID_PROVIDES,ID_EMPLOYEES,ID_PROVIDERS,EXECUTION_DATE_PROVIDES,PROVIDES_PRICE,STATUS_PROVIDES) values (9,2,2,to_timestamp('17/01/16 16:53:57,000000000','RR/MM/DD HH24:MI:SS,FF'),140400,'1');
Insert into SKLEP.PROVIDES (ID_PROVIDES,ID_EMPLOYEES,ID_PROVIDERS,EXECUTION_DATE_PROVIDES,PROVIDES_PRICE,STATUS_PROVIDES) values (10,2,3,to_timestamp('17/01/16 16:54:15,000000000','RR/MM/DD HH24:MI:SS,FF'),156000,'1');
Insert into SKLEP.PROVIDES (ID_PROVIDES,ID_EMPLOYEES,ID_PROVIDERS,EXECUTION_DATE_PROVIDES,PROVIDES_PRICE,STATUS_PROVIDES) values (11,2,4,to_timestamp('17/01/16 16:54:31,000000000','RR/MM/DD HH24:MI:SS,FF'),129945,'1');
Insert into SKLEP.PROVIDES (ID_PROVIDES,ID_EMPLOYEES,ID_PROVIDERS,EXECUTION_DATE_PROVIDES,PROVIDES_PRICE,STATUS_PROVIDES) values (12,2,7,to_timestamp('17/01/16 16:55:07,000000000','RR/MM/DD HH24:MI:SS,FF'),40604.4,'1');
Insert into SKLEP.PROVIDES (ID_PROVIDES,ID_EMPLOYEES,ID_PROVIDERS,EXECUTION_DATE_PROVIDES,PROVIDES_PRICE,STATUS_PROVIDES) values (13,2,6,to_timestamp('17/01/16 16:55:37,000000000','RR/MM/DD HH24:MI:SS,FF'),24150,'1');
Insert into SKLEP.PROVIDES (ID_PROVIDES,ID_EMPLOYEES,ID_PROVIDERS,EXECUTION_DATE_PROVIDES,PROVIDES_PRICE,STATUS_PROVIDES) values (14,2,3,to_timestamp('17/01/16 16:55:57,000000000','RR/MM/DD HH24:MI:SS,FF'),3076,'1');
Insert into SKLEP.PROVIDES (ID_PROVIDES,ID_EMPLOYEES,ID_PROVIDERS,EXECUTION_DATE_PROVIDES,PROVIDES_PRICE,STATUS_PROVIDES) values (15,2,5,to_timestamp('17/01/16 16:56:30,000000000','RR/MM/DD HH24:MI:SS,FF'),17203.9,'1');
Insert into SKLEP.PROVIDES (ID_PROVIDES,ID_EMPLOYEES,ID_PROVIDERS,EXECUTION_DATE_PROVIDES,PROVIDES_PRICE,STATUS_PROVIDES) values (16,2,4,to_timestamp('17/01/16 16:56:47,000000000','RR/MM/DD HH24:MI:SS,FF'),550,'1');
Insert into SKLEP.PROVIDES (ID_PROVIDES,ID_EMPLOYEES,ID_PROVIDERS,EXECUTION_DATE_PROVIDES,PROVIDES_PRICE,STATUS_PROVIDES) values (1,2,3,to_timestamp('17/01/16 16:49:22,000000000','RR/MM/DD HH24:MI:SS,FF'),289900,'1');

Insert into SKLEP.PROVIDES_ITEMS (ID_PROVIDES,ID_ITEMS,QUANTITY_PROVIDES_ITEMS) values (3,15,4);
Insert into SKLEP.PROVIDES_ITEMS (ID_PROVIDES,ID_ITEMS,QUANTITY_PROVIDES_ITEMS) values (3,13,6);
Insert into SKLEP.PROVIDES_ITEMS (ID_PROVIDES,ID_ITEMS,QUANTITY_PROVIDES_ITEMS) values (3,18,12);
Insert into SKLEP.PROVIDES_ITEMS (ID_PROVIDES,ID_ITEMS,QUANTITY_PROVIDES_ITEMS) values (4,8,100);
Insert into SKLEP.PROVIDES_ITEMS (ID_PROVIDES,ID_ITEMS,QUANTITY_PROVIDES_ITEMS) values (5,15,66);
Insert into SKLEP.PROVIDES_ITEMS (ID_PROVIDES,ID_ITEMS,QUANTITY_PROVIDES_ITEMS) values (6,8,66);
Insert into SKLEP.PROVIDES_ITEMS (ID_PROVIDES,ID_ITEMS,QUANTITY_PROVIDES_ITEMS) values (6,10,200);
Insert into SKLEP.PROVIDES_ITEMS (ID_PROVIDES,ID_ITEMS,QUANTITY_PROVIDES_ITEMS) values (7,17,66);
Insert into SKLEP.PROVIDES_ITEMS (ID_PROVIDES,ID_ITEMS,QUANTITY_PROVIDES_ITEMS) values (7,4,69);
Insert into SKLEP.PROVIDES_ITEMS (ID_PROVIDES,ID_ITEMS,QUANTITY_PROVIDES_ITEMS) values (8,3,20);
Insert into SKLEP.PROVIDES_ITEMS (ID_PROVIDES,ID_ITEMS,QUANTITY_PROVIDES_ITEMS) values (8,5,100);
Insert into SKLEP.PROVIDES_ITEMS (ID_PROVIDES,ID_ITEMS,QUANTITY_PROVIDES_ITEMS) values (9,9,90);
Insert into SKLEP.PROVIDES_ITEMS (ID_PROVIDES,ID_ITEMS,QUANTITY_PROVIDES_ITEMS) values (10,9,100);
Insert into SKLEP.PROVIDES_ITEMS (ID_PROVIDES,ID_ITEMS,QUANTITY_PROVIDES_ITEMS) values (11,12,100);
Insert into SKLEP.PROVIDES_ITEMS (ID_PROVIDES,ID_ITEMS,QUANTITY_PROVIDES_ITEMS) values (12,18,60);
Insert into SKLEP.PROVIDES_ITEMS (ID_PROVIDES,ID_ITEMS,QUANTITY_PROVIDES_ITEMS) values (12,2,12);
Insert into SKLEP.PROVIDES_ITEMS (ID_PROVIDES,ID_ITEMS,QUANTITY_PROVIDES_ITEMS) values (12,3,9);
Insert into SKLEP.PROVIDES_ITEMS (ID_PROVIDES,ID_ITEMS,QUANTITY_PROVIDES_ITEMS) values (13,19,100);
Insert into SKLEP.PROVIDES_ITEMS (ID_PROVIDES,ID_ITEMS,QUANTITY_PROVIDES_ITEMS) values (13,20,50);
Insert into SKLEP.PROVIDES_ITEMS (ID_PROVIDES,ID_ITEMS,QUANTITY_PROVIDES_ITEMS) values (14,15,200);
Insert into SKLEP.PROVIDES_ITEMS (ID_PROVIDES,ID_ITEMS,QUANTITY_PROVIDES_ITEMS) values (15,16,60);
Insert into SKLEP.PROVIDES_ITEMS (ID_PROVIDES,ID_ITEMS,QUANTITY_PROVIDES_ITEMS) values (15,13,10);
Insert into SKLEP.PROVIDES_ITEMS (ID_PROVIDES,ID_ITEMS,QUANTITY_PROVIDES_ITEMS) values (15,2,10);
Insert into SKLEP.PROVIDES_ITEMS (ID_PROVIDES,ID_ITEMS,QUANTITY_PROVIDES_ITEMS) values (15,10,10);
Insert into SKLEP.PROVIDES_ITEMS (ID_PROVIDES,ID_ITEMS,QUANTITY_PROVIDES_ITEMS) values (16,6,10);
Insert into SKLEP.PROVIDES_ITEMS (ID_PROVIDES,ID_ITEMS,QUANTITY_PROVIDES_ITEMS) values (1,14,100);

Insert into SKLEP.SALES (ID_SALES,ID_EMPLOYEES,ID_CLIENTS,EXECUTION_DATE_SALES,SALES_PRICE,STATUS_SALES) values (1,2,2,to_timestamp('17/01/16 16:02:29,000000000','RR/MM/DD HH24:MI:SS,FF'),3016,'1');
Insert into SKLEP.SALES (ID_SALES,ID_EMPLOYEES,ID_CLIENTS,EXECUTION_DATE_SALES,SALES_PRICE,STATUS_SALES) values (5,null,5,null,3078,'0');
Insert into SKLEP.SALES (ID_SALES,ID_EMPLOYEES,ID_CLIENTS,EXECUTION_DATE_SALES,SALES_PRICE,STATUS_SALES) values (3,null,3,null,278,'0');
Insert into SKLEP.SALES (ID_SALES,ID_EMPLOYEES,ID_CLIENTS,EXECUTION_DATE_SALES,SALES_PRICE,STATUS_SALES) values (4,null,4,null,8870,'0');
Insert into SKLEP.SALES (ID_SALES,ID_EMPLOYEES,ID_CLIENTS,EXECUTION_DATE_SALES,SALES_PRICE,STATUS_SALES) values (6,null,6,null,1383,'0');
Insert into SKLEP.SALES (ID_SALES,ID_EMPLOYEES,ID_CLIENTS,EXECUTION_DATE_SALES,SALES_PRICE,STATUS_SALES) values (7,null,7,null,2158,'0');
Insert into SKLEP.SALES (ID_SALES,ID_EMPLOYEES,ID_CLIENTS,EXECUTION_DATE_SALES,SALES_PRICE,STATUS_SALES) values (8,null,8,null,1234,'0');
Insert into SKLEP.SALES (ID_SALES,ID_EMPLOYEES,ID_CLIENTS,EXECUTION_DATE_SALES,SALES_PRICE,STATUS_SALES) values (9,null,9,null,114,'0');
Insert into SKLEP.SALES (ID_SALES,ID_EMPLOYEES,ID_CLIENTS,EXECUTION_DATE_SALES,SALES_PRICE,STATUS_SALES) values (10,2,10,to_timestamp('17/01/16 16:49:58,000000000','RR/MM/DD HH24:MI:SS,FF'),1778,'1');
Insert into SKLEP.SALES (ID_SALES,ID_EMPLOYEES,ID_CLIENTS,EXECUTION_DATE_SALES,SALES_PRICE,STATUS_SALES) values (11,2,11,to_timestamp('17/01/16 16:49:55,000000000','RR/MM/DD HH24:MI:SS,FF'),2460,'1');
Insert into SKLEP.SALES (ID_SALES,ID_EMPLOYEES,ID_CLIENTS,EXECUTION_DATE_SALES,SALES_PRICE,STATUS_SALES) values (12,2,12,to_timestamp('17/01/16 16:49:54,000000000','RR/MM/DD HH24:MI:SS,FF'),334,'1');
Insert into SKLEP.SALES (ID_SALES,ID_EMPLOYEES,ID_CLIENTS,EXECUTION_DATE_SALES,SALES_PRICE,STATUS_SALES) values (13,2,13,to_timestamp('17/01/16 16:49:53,000000000','RR/MM/DD HH24:MI:SS,FF'),1234,'1');
Insert into SKLEP.SALES (ID_SALES,ID_EMPLOYEES,ID_CLIENTS,EXECUTION_DATE_SALES,SALES_PRICE,STATUS_SALES) values (14,2,14,to_timestamp('17/01/16 16:49:53,000000000','RR/MM/DD HH24:MI:SS,FF'),15,'1');
Insert into SKLEP.SALES (ID_SALES,ID_EMPLOYEES,ID_CLIENTS,EXECUTION_DATE_SALES,SALES_PRICE,STATUS_SALES) values (15,2,15,to_timestamp('17/01/16 16:49:52,000000000','RR/MM/DD HH24:MI:SS,FF'),142,'1');
Insert into SKLEP.SALES (ID_SALES,ID_EMPLOYEES,ID_CLIENTS,EXECUTION_DATE_SALES,SALES_PRICE,STATUS_SALES) values (16,2,16,to_timestamp('17/01/16 16:49:51,000000000','RR/MM/DD HH24:MI:SS,FF'),179,'1');

Insert into SKLEP.SALES_ITEMS (ID_SALES,ID_ITEMS,QUANTITY_SALES_ITEMS) values (1,2,2);
Insert into SKLEP.SALES_ITEMS (ID_SALES,ID_ITEMS,QUANTITY_SALES_ITEMS) values (1,4,2);
Insert into SKLEP.SALES_ITEMS (ID_SALES,ID_ITEMS,QUANTITY_SALES_ITEMS) values (1,6,2);
Insert into SKLEP.SALES_ITEMS (ID_SALES,ID_ITEMS,QUANTITY_SALES_ITEMS) values (4,18,77);
Insert into SKLEP.SALES_ITEMS (ID_SALES,ID_ITEMS,QUANTITY_SALES_ITEMS) values (3,11,1);
Insert into SKLEP.SALES_ITEMS (ID_SALES,ID_ITEMS,QUANTITY_SALES_ITEMS) values (4,15,1);
Insert into SKLEP.SALES_ITEMS (ID_SALES,ID_ITEMS,QUANTITY_SALES_ITEMS) values (5,14,1);
Insert into SKLEP.SALES_ITEMS (ID_SALES,ID_ITEMS,QUANTITY_SALES_ITEMS) values (5,19,1);
Insert into SKLEP.SALES_ITEMS (ID_SALES,ID_ITEMS,QUANTITY_SALES_ITEMS) values (6,17,1);
Insert into SKLEP.SALES_ITEMS (ID_SALES,ID_ITEMS,QUANTITY_SALES_ITEMS) values (6,2,1);
Insert into SKLEP.SALES_ITEMS (ID_SALES,ID_ITEMS,QUANTITY_SALES_ITEMS) values (7,3,1);
Insert into SKLEP.SALES_ITEMS (ID_SALES,ID_ITEMS,QUANTITY_SALES_ITEMS) values (7,5,1);
Insert into SKLEP.SALES_ITEMS (ID_SALES,ID_ITEMS,QUANTITY_SALES_ITEMS) values (8,2,1);
Insert into SKLEP.SALES_ITEMS (ID_SALES,ID_ITEMS,QUANTITY_SALES_ITEMS) values (9,5,1);
Insert into SKLEP.SALES_ITEMS (ID_SALES,ID_ITEMS,QUANTITY_SALES_ITEMS) values (9,6,1);
Insert into SKLEP.SALES_ITEMS (ID_SALES,ID_ITEMS,QUANTITY_SALES_ITEMS) values (10,9,1);
Insert into SKLEP.SALES_ITEMS (ID_SALES,ID_ITEMS,QUANTITY_SALES_ITEMS) values (10,10,1);
Insert into SKLEP.SALES_ITEMS (ID_SALES,ID_ITEMS,QUANTITY_SALES_ITEMS) values (11,3,1);
Insert into SKLEP.SALES_ITEMS (ID_SALES,ID_ITEMS,QUANTITY_SALES_ITEMS) values (11,4,1);
Insert into SKLEP.SALES_ITEMS (ID_SALES,ID_ITEMS,QUANTITY_SALES_ITEMS) values (11,13,1);
Insert into SKLEP.SALES_ITEMS (ID_SALES,ID_ITEMS,QUANTITY_SALES_ITEMS) values (12,18,1);
Insert into SKLEP.SALES_ITEMS (ID_SALES,ID_ITEMS,QUANTITY_SALES_ITEMS) values (12,4,1);
Insert into SKLEP.SALES_ITEMS (ID_SALES,ID_ITEMS,QUANTITY_SALES_ITEMS) values (13,2,1);
Insert into SKLEP.SALES_ITEMS (ID_SALES,ID_ITEMS,QUANTITY_SALES_ITEMS) values (14,15,1);
Insert into SKLEP.SALES_ITEMS (ID_SALES,ID_ITEMS,QUANTITY_SALES_ITEMS) values (15,13,1);
Insert into SKLEP.SALES_ITEMS (ID_SALES,ID_ITEMS,QUANTITY_SALES_ITEMS) values (16,19,1);

CREATE OR REPLACE VIEW item_relation AS SELECT items.id_items, items.name_items, items.model_items, items.quantity_items, items.price_items, items.id_producers, producers.name_producers, LISTAGG(CONCAT(CONCAT(features.name_features, ' '), items_features.value), '; ') WITHIN GROUP (ORDER BY features.name_features) "ftrs" FROM items JOIN items_features ON items.id_items = items_features.id_items JOIN features ON items_features.id_features = features.id_features JOIN producers ON items.id_producers = producers.id_producers GROUP BY items.id_items, items.name_items, items.model_items, items.quantity_items, items.price_items, items.id_producers, producers.name_producers;
CREATE OR REPLACE VIEW item_relation_edit AS SELECT items.id_items, items.name_items, items.model_items, items.quantity_items, items.price_items, items.id_producers, producers.name_producers, LISTAGG(CONCAT(CONCAT(features.id_features, '>'),CONCAT(CONCAT(features.name_features, '>'), items_features.value)), '; ') WITHIN GROUP (ORDER BY features.name_features) as ftrs FROM items LEFT OUTER JOIN items_features ON items.id_items = items_features.id_items LEFT OUTER JOIN features ON items_features.id_features = features.id_features LEFT OUTER JOIN producers ON items.id_producers = producers.id_producers GROUP BY items.id_items, items.name_items, items.model_items, items.quantity_items, items.price_items, items.id_producers, producers.name_producers;
CREATE OR REPLACE VIEW salesView AS SELECT sales.id_sales, sales.id_employees, sales.id_clients, sales.execution_date_sales, sales.sales_price, sales.status_sales, CONCAT(employees.name_employees ,CONCAT(' ', employees.surname_employees)) as SPRZEDAWCA, CONCAT(clients.name_clients ,CONCAT(' ', clients.surname_clients)) as KLIENT FROM sales LEFT OUTER JOIN employees ON sales.id_employees = employees.id_employees LEFT OUTER JOIN clients ON sales.id_clients = clients.id_clients ORDER BY id_sales DESC;
CREATE OR REPLACE VIEW providesView AS SELECT provides.id_provides, provides.id_employees, provides.id_providers, provides.execution_date_provides, provides.provides_price, provides.status_provides, CONCAT(employees.name_employees ,CONCAT(' ', employees.surname_employees)) as SPRZEDAWCA, providers.name_providers FROM provides LEFT OUTER JOIN employees ON provides.id_employees = employees.id_employees LEFT OUTER JOIN providers ON provides.id_providers = providers.id_providers ORDER BY id_provides DESC;
CREATE OR REPLACE VIEW stats AS SELECT (SELECT COUNT(*) FROM employees) as empl, (SELECT COUNT(*) FROM clients) as clnt, (SELECT COUNT(*) FROM items) as itct, (SELECT COUNT(*) FROM producers) as prdc, (SELECT COUNT(*) FROM providers) as prvd, (SELECT COUNT(*) FROM sales) as slsc, (SELECT SUM(quantity_sales_items) FROM sales_items) as sism, (SELECT SUM(sales_price) FROM sales) as salpr  FROM dual;
CREATE OR REPLACE VIEW itemsToProvide AS SELECT ID_ITEMS, CONCAT(CONCAT(NAME_ITEMS, ' '), MODEL_ITEMS) as ITEM FROM items ORDER BY id_items;
CREATE OR REPLACE VIEW getItems AS SELECT id_items, name_items, model_items, quantity_items, price_items, name_producers FROM items JOIN producers ON items.id_producers = producers.id_producers ORDER BY items.id_items;
CREATE OR REPLACE VIEW getEmployeeSales AS SELECT sales.id_sales, sales.id_employees, CONCAT(employees.name_employees, employees.surname_employees) as Sprzedawca, sales.id_clients, CONCAT(clients.name_clients, clients.surname_clients) as Klient, sales.EXECUTION_DATE_SALES, sales.SALES_PRICE, sales.status_sales FROM sales JOIN employees ON sales.id_employees = employees.id_employees JOIN clients ON sales.id_clients = clients.id_clients;
CREATE OR REPLACE VIEW getEmployeeProvides AS SELECT provides.id_provides, provides.id_employees, CONCAT(employees.name_employees, employees.surname_employees) as Sprzedawca, providers.id_providers, providers.name_providers, provides.EXECUTION_DATE_PROVIDES, provides.PROVIDES_PRICE, provides.status_provides FROM provides JOIN employees ON provides.id_employees = employees.id_employees JOIN providers ON provides.id_providers = providers.id_providers;
CREATE OR REPLACE VIEW getClientSales AS SELECT s.id_sales, s.id_employees, (e.name_employees || ' ' || e.surname_employees) as Sprzedawca, s.id_clients, (c.name_clients || ' ' || c.surname_clients) as Klient, s.EXECUTION_DATE_SALES, s.SALES_PRICE, s.status_sales FROM sales s JOIN employees e ON s.id_employees = e.id_employees JOIN clients c ON s.id_clients = c.id_clients;
CREATE OR REPLACE VIEW getItemsToProducer AS SELECT i.id_items, CONCAT(i.name_items, CONCAT(' ', i.model_items)) as item, p.name_producers FROM items i JOIN producers p ON i.id_producers = p.id_producers;
CREATE OR REPLACE VIEW getItemsToSale AS SELECT items.id_items, CONCAT(items.name_items, CONCAT(' ', items.model_items)) as item, sales_items.QUANTITY_SALES_ITEMS, producers.name_producers FROM items JOIN producers ON items.id_producers = producers.id_producers JOIN sales_items ON items.id_items = sales_items.id_items JOIN sales ON sales_items.id_sales = sales.id_sales;
CREATE OR REPLACE VIEW getProvideItems AS SELECT items.id_items, CONCAT(items.name_items, CONCAT(' ', items.model_items)) as ITEM, provides_items.QUANTITY_PROVIDES_ITEMS, producers.name_producers FROM items JOIN producers ON items.id_producers = producers.id_producers JOIN provides_items ON items.id_items = provides_items.id_items JOIN provides ON provides_items.id_provides = provides.id_provides;

create or replace TRIGGER checkitemsales
BEFORE INSERT ON sales_items FOR EACH ROW
	declare
	itval NUMBER;
	noitems exception;
BEGIN
	SELECT items.QUANTITY_ITEMS INTO itval FROM items WHERE items.id_items = :new.ID_ITEMS;
	IF (itval - :new.QUANTITY_SALES_ITEMS) < 0 THEN
		raise noitems;
	END IF;
END;
/

create or replace TRIGGER updateQuantity
AFTER INSERT ON sales_items FOR EACH ROW
BEGIN
	UPDATE items SET quantity_items = quantity_items - :new.QUANTITY_SALES_ITEMS WHERE items.id_items = :new.ID_ITEMS;
END;
/

create or replace FUNCTION DOBUYFUNC(
	iname IN clients.name_clients%type,
	isurname IN clients.surname_clients%type,
	iemail IN clients.email_clients%type,
	iaddress IN clients.address_clients%type,
	iphone IN clients.phone_number_clients%type,
	basketPrice IN sales.sales_price%type,
	itemsvalues IN VARCHAR
) RETURN NUMBER
	IS
  	PRAGMA AUTONOMOUS_TRANSACTION;
	rescntcl NUMBER(1);
	resclid clients.id_clients%type;
	salesid sales.id_sales%type;
	itsid sales_items.id_items%type;
	itsval sales_items.quantity_sales_items%type;
BEGIN
	IF iname IS NULL THEN
		RAISE_APPLICATION_ERROR(-20001, 'Empty name');
    RETURN 0;
	END IF;
	IF isurname IS NULL THEN
		RAISE_APPLICATION_ERROR(-20001, 'Empty surname');
    RETURN 0;
	END IF;
	IF iemail IS NULL THEN
		RAISE_APPLICATION_ERROR(-20001, 'Empty email');
    RETURN 0;
	END IF;
	IF iaddress IS NULL THEN
		RAISE_APPLICATION_ERROR(-20001, 'Empty address');
    RETURN 0;
	END IF;
	IF iphone IS NULL THEN
		RAISE_APPLICATION_ERROR(-20001, 'Empty phone number');
    RETURN 0;
	END IF;

	SELECT count(clients.id_clients) INTO rescntcl FROM clients WHERE clients.name_clients = iname AND clients.surname_clients = isurname AND clients.email_clients = iemail AND clients.address_clients = iaddress AND clients.phone_number_clients = iphone;
	IF (rescntcl = 0) THEN
		INSERT INTO clients VALUES(clients_seq.NEXTVAL, iname, isurname, iemail, iaddress, iphone);
	END IF;
	SELECT id_clients INTO resclid FROM clients WHERE clients.name_clients = iname AND clients.surname_clients = isurname AND clients.email_clients = iemail AND clients.address_clients = iaddress AND clients.phone_number_clients = iphone;
	IF (resclid > 0) THEN
    dbms_output.put_line('Company code no.'||resclid);
		INSERT INTO sales VALUES(sales_seq.NEXTVAL, NULL, resclid, NULL, basketPrice, 0);
		SELECT max(sales.id_sales) INTO salesid FROM sales WHERE sales.id_clients = resclid AND sales.sales_price = basketPrice;
		IF (salesid > 0) THEN
			FOR i IN
				(SELECT level,
				trim(regexp_substr(itemsvalues, '[^;]+', 1, LEVEL)) str
				FROM dual
				CONNECT BY regexp_substr(itemsvalues , '[^;]+', 1, LEVEL) IS NOT NULL
				)
			LOOP
		      SELECT regexp_substr(i.str, '[^,]+', 1, 1), regexp_substr(i.str, '[^,]+', 1, 2) INTO itsid,itsval FROM dual;
		      INSERT INTO sales_items (id_sales, id_items, quantity_sales_items) VALUES(salesid, itsid, itsval);
			END LOOP;
			COMMIT;
      RETURN 1;
		END IF;
	ROLLBACK;
    RETURN 0;
	END IF;
  ROLLBACK;
  RETURN 0;
END;
/

CREATE OR REPLACE FUNCTION DECLINEPROVIDEFUNC(id IN provides.id_provides%type)
RETURN NUMBER
IS
CURSOR declineprovidecursor IS
SELECT PROVIDES_ITEMS.ID_ITEMS, PROVIDES_ITEMS.QUANTITY_PROVIDES_ITEMS FROM PROVIDES_ITEMS JOIN items ON items.id_items = provides_items.id_items WHERE PROVIDES_ITEMS.ID_PROVIDES = id;
PRAGMA AUTONOMOUS_TRANSACTION;
BEGIN
 	FOR i IN declineprovidecursor LOOP
    EXIT WHEN declineprovidecursor%notfound;
 		UPDATE items SET QUANTITY_ITEMS = QUANTITY_ITEMS - i.QUANTITY_PROVIDES_ITEMS WHERE ID_ITEMS = i.ID_ITEMS;
 	END LOOP;
 	DELETE FROM PROVIDES_ITEMS WHERE ID_PROVIDES = id;
 	DELETE FROM provides WHERE id_provides = id;
 	COMMIT;
 	RETURN 1;
 	exception
 		WHEN OTHERS THEN
 			ROLLBACK;
 			RETURN 0;
END;
/

CREATE OR REPLACE FUNCTION DECLINESALEFUNC(id IN sales.id_sales%type)
RETURN NUMBER
IS CURSOR declinesalecursor IS
SELECT id_items, QUANTITY_SALES_ITEMS from sales_items WHERE id_sales = id;
PRAGMA AUTONOMOUS_TRANSACTION;
BEGIN
	FOR i IN declinesalecursor LOOP
		UPDATE items SET QUANTITY_ITEMS = QUANTITY_ITEMS + i.QUANTITY_SALES_ITEMS WHERE id_items = i.ID_ITEMS;
	END LOOP;
	DELETE FROM sales_items WHERE id_sales = id;
	DELETE FROM sales WHERE id_sales = id;
	COMMIT;
 	RETURN 1;
	exception
 		WHEN OTHERS THEN
 			ROLLBACK;
 			RETURN 0;
END;
/

create or replace TRIGGER DELETEFROMITFT
BEFORE DELETE ON items FOR EACH ROW
BEGIN
	DELETE FROM ITEMS_FEATURES WHERE id_items = :old.id_items;
END;
/

CREATE OR REPLACE FUNCTION DELETEITEMFUNC(id IN items.id_items%type)
RETURN NUMBER
IS
PRAGMA AUTONOMOUS_TRANSACTION;
BEGIN
	DELETE FROM items WHERE id_items = id;
	COMMIT;
 	RETURN 1;
	exception
 		WHEN OTHERS THEN
 			ROLLBACK;
 			RETURN 0;
END;
/

create or replace TRIGGER DELETEFTFROMITFT
BEFORE DELETE ON features FOR EACH ROW
BEGIN
	DELETE FROM ITEMS_FEATURES WHERE id_features = :old.id_features;
END;
/

CREATE OR REPLACE FUNCTION DELETEFEATUREFUNC(id IN features.id_features%type)
RETURN NUMBER
IS
PRAGMA AUTONOMOUS_TRANSACTION;
BEGIN
	DELETE FROM features WHERE id_features = id;
	COMMIT;
 	RETURN 1;
	exception
 		WHEN OTHERS THEN
 			ROLLBACK;
 			RETURN 0;
END;
/

create or replace TRIGGER UPDATEADDITEMTOPROVIDE
AFTER INSERT ON provides_items FOR EACH ROW
BEGIN
	UPDATE items SET QUANTITY_ITEMS = QUANTITY_ITEMS + :new.QUANTITY_PROVIDES_ITEMS WHERE ID_ITEMS = :new.ID_ITEMS;
END;
/

CREATE OR REPLACE FUNCTION ADDITEMTOPROVIDEFUNC(id IN provides_items.id_provides%type, iditem IN items.id_items%type, val IN provides_items.QUANTITY_PROVIDES_ITEMS%type)
RETURN NUMBER
IS
PRAGMA AUTONOMOUS_TRANSACTION;
BEGIN
	INSERT INTO provides_items VALUES(id, iditem, val);
	COMMIT;
 	RETURN 1;
	exception
 		WHEN OTHERS THEN
 			ROLLBACK;
 			RETURN 0;
END;
/

create or replace TRIGGER UPDATEDELETEITEMFROMPROVIDE
BEFORE DELETE ON provides_items FOR EACH ROW
BEGIN
	UPDATE items SET QUANTITY_ITEMS = QUANTITY_ITEMS - :old.QUANTITY_PROVIDES_ITEMS WHERE ID_ITEMS = :old.ID_ITEMS;
END;
/

CREATE OR REPLACE FUNCTION DELETEITEMFROMPROVIDEFUNC(iditem IN PROVIDES_ITEMS.ID_ITEMS%type, idprovide IN provides_items.ID_PROVIDES%type)
RETURN NUMBER
IS
PRAGMA AUTONOMOUS_TRANSACTION;
BEGIN
	DELETE FROM provides_items WHERE ID_ITEMS = iditem AND ID_PROVIDES = idprovide;
	COMMIT;
 	RETURN 1;
	exception
 		WHEN OTHERS THEN
 			ROLLBACK;
 			RETURN 0;
END;
/


CREATE OR REPLACE FUNCTION DELETEEMPLOYEEFUNC(id IN employees.id_employees%type)
RETURN NUMBER
IS
CURSOR deleteemployeesalescursor IS SELECT s.id_sales FROM sales s JOIN employees ems ON s.id_employees = ems.id_employees WHERE ems.id_employees = id;
CURSOR deleteemployeeprovidescursor IS SELECT p.id_provides FROM provides p JOIN employees emp ON p.id_employees = emp.id_employees WHERE emp.id_employees = id;
PRAGMA AUTONOMOUS_TRANSACTION;
BEGIN
 	FOR i IN deleteemployeesalescursor LOOP
    EXIT WHEN deleteemployeesalescursor%notfound;
 		UPDATE sales SET id_employees = 1 WHERE id_sales = i.id_sales;
 	END LOOP;

 	FOR i IN deleteemployeeprovidescursor LOOP
    EXIT WHEN deleteemployeeprovidescursor%notfound;
 		UPDATE provides SET id_employees = 1 WHERE id_provides = i.id_provides;
 	END LOOP;
 	DELETE FROM employees WHERE id_employees = id AND id_employees != 1;
 	COMMIT;
 	RETURN 1;
 	exception
 		WHEN OTHERS THEN
 			ROLLBACK;
 			RETURN 0;
END;
/

CREATE OR REPLACE FUNCTION DELETECLIENTFUNC(id IN clients.id_clients%type)
RETURN NUMBER
IS
CURSOR deleteclientsalescursor IS SELECT s.id_sales FROM sales s JOIN clients cl ON s.id_clients = cl.id_clients WHERE s.id_clients = id;
PRAGMA AUTONOMOUS_TRANSACTION;
BEGIN
 	FOR i IN deleteclientsalescursor LOOP
    EXIT WHEN deleteclientsalescursor%notfound;
 		UPDATE sales SET id_clients = 1 WHERE id_sales = i.id_sales;
 	END LOOP;
 	DELETE FROM clients WHERE id_clients = id AND id_clients != 1;
 	COMMIT;
 	RETURN 1;
 	exception
 		WHEN OTHERS THEN
 			ROLLBACK;
 			RETURN 0;
END;
/

CREATE OR REPLACE FUNCTION DELETEPRODUCERFUNC(id IN producers.id_producers%type)
RETURN NUMBER
IS
CURSOR deleteproducercursor IS SELECT items.id_items from items JOIN producers ON items.id_producers = producers.id_producers WHERE items.id_producers = id;
PRAGMA AUTONOMOUS_TRANSACTION;
BEGIN
 	FOR i IN deleteproducercursor LOOP
    EXIT WHEN deleteproducercursor%notfound;
 		UPDATE items SET id_producers = 1 WHERE id_items = i.id_items;
 	END LOOP;
 	DELETE FROM producers WHERE id_producers = id AND id_producers != 1;
 	COMMIT;
 	RETURN 1;
 	exception
 		WHEN OTHERS THEN
 			ROLLBACK;
 			RETURN 0;
END;
/

CREATE OR REPLACE FUNCTION DELETEPROVIDERFUNC(id IN providers.id_providers%type)
RETURN NUMBER
IS
CURSOR deleteprovidercursor IS SELECT provides.id_provides from provides JOIN providers ON provides.id_providers = providers.id_providers WHERE provides.id_providers = id;
PRAGMA AUTONOMOUS_TRANSACTION;
BEGIN
 	FOR i IN deleteprovidercursor LOOP
    EXIT WHEN deleteprovidercursor%notfound;
 		UPDATE provides SET id_providers = 1 WHERE id_provides = i.id_provides;
 	END LOOP;
 	DELETE FROM providers WHERE id_providers = id AND id_providers != 1;
 	COMMIT;
 	RETURN 1;
 	exception
 		WHEN OTHERS THEN
 			ROLLBACK;
 			RETURN 0;
END;
/

CREATE OR REPLACE FUNCTION IINSERTEMPLOYEES (nname in employees.name_employees%type, ssurname in employees.surname_employees%type, eemail in employees.email_employees%type, password in employees.password_employees%type, aadress in employees.address_employees%type, pphone in employees.phone_number_employees%type)
RETURN NUMBER
IS
PRAGMA AUTONOMOUS_TRANSACTION;
BEGIN
	IF nname IS NULL THEN
		RAISE_APPLICATION_ERROR(-20001, 'Empty name');
	RETURN 0;
	END IF;
	IF ssurname IS NULL THEN
		RAISE_APPLICATION_ERROR(-20001, 'Emppty surrname');
	RETURN 0;
	END IF;
	IF eemail IS NULL THEN
		RAISE_APPLICATION_ERROR(-20001, 'Empty email');
	RETURN 0;
	END IF;
	IF password IS NULL THEN
		RAISE_APPLICATION_ERROR(-20001, 'Empty password');
	RETURN 0;
	END IF;
	IF aadress IS NULL THEN
		RAISE_APPLICATION_ERROR(-20001, 'Empty address');
	RETURN 0;
	END IF;
	IF pphone IS NULL THEN
		RAISE_APPLICATION_ERROR(-20001, 'Empty pphone');
	RETURN 0;
	END IF;
	INSERT INTO employees VALUES (employees_seq.NEXTVAL, nname, ssurname,eemail, DBMS_OBFUSCATION_TOOLKIT.md5 (input => UTL_RAW.cast_to_raw(password)), aadress, pphone);
COMMIT;
 	RETURN 1;
 	exception
 		WHEN OTHERS THEN
 			ROLLBACK;
 			RETURN 0;
END;
/